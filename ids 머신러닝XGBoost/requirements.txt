numpy==1.26.4
pandas==2.2.3
scikit-learn==1.5.2
imbalanced-learn==0.12.3
xgboost==2.1.1
shap==0.46.0
joblib==1.3.2
flask
flask-cors
requests
scipy
tqdm
optuna==4.5.0
colorlog==6.9.0
mako==1.3.10
alembic==1.16.5
openpyxl



## 0) 폴더 구조
```
IDS_WEB_HOME/
├─ dataset/ # 원본 CSV (CIC-IDS-2017)
├─ data/
│ └─ processed/ # 전처리 산출물 (parquet, label map 등)
├─ models/ # 학습된 모델 (xgb_multiclass.json)
├─ reports/ # 리포트/지표/혼동행렬/샘플 등
└─ src/
├─ build_dataset.py #  전처리 + 7:1:2 split (여기서 확정)
├─ train_xgb_multiclass.py#  학습(조기종료, 샘플가중치, GPU 폴백)
├─ evaluate_multiclass.py #  최종 테스트셋 평가

```


---


## 1) 실행 순서(명령어)
PowerShell에서 프로젝트 루트(`IDS_WEB_HOME`) 기준:


```powershell
cd .\src


# 1) 전처리 + 7:1:2 분할 (merge: Begin 통합, 필요시 split로 변경)
python build_dataset.py `
--inputs-dir ..\dataset `
--outdir ..\data\processed `
--reports ..\reports `
--phase-policy merge `
--train-ratio 0.7 `
--val-ratio 0.1 `
--test-ratio 0.2


# 2) 학습 (X_train / y_train / X_val / y_val 사용, GPU 가능 시 자동)
python train_xgb_multiclass.py `
--data_dir ..\data\processed `
--models_dir ..\models `
--reports_dir ..\reports `
--gpu


# 3) 평가 (X_test / y_test)
python evaluate_multiclass.py `
--data_dir ..\data\processed `
--models_dir ..\models `
--reports_dir ..\reports




> 패키지 설치 권장: `python -m pip install --user -r requirements.txt`